// ?��?�� 만들�?
// javax.servlet.Filter ?��?��?��?��?�� 구현
//

package bitcamp.java110.ex01;

import java.io.IOException;

import javax.servlet.Filter;
import javax.servlet.FilterChain;
import javax.servlet.FilterConfig;
import javax.servlet.ServletException;
import javax.servlet.ServletRequest;
import javax.servlet.ServletResponse;
import javax.servlet.annotation.WebFilter;

// ?��?���? 만들?��?���? ?��?�� ?���??�� ???�� ?��?��?�� 것인�? ?��록해?�� ?��?��.
// URL?? 반드?�� "/" �? ?��?��?��?�� ?��?��.

//@WebFilter({"/ex01/*","/ex02/*"})
public class Filter01 implements Filter{

    public Filter01() {
        System.out.println("Filter01 ?��?��?�� ?���? ?��");
    }
    @Override
    public void init(FilterConfig filterConfig) throws ServletException {
        // ?��?���? ?��?��?�� ?�� ?��?��?�� ?���? ?�� ?�� 매서?���? ?��?��?��?��.
        // ?��?���? ?��?��?��?�� ?��?�� ?��?��?�� ?��?��?�� �?비한?��.
        System.out.println("Filter01 - init()  ?���? ?��");
    }
    
    @Override
    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)
            throws IOException, ServletException {
        // ?��?��?��?��?���? ?���??�� ?��블릿?�� ?��?��?���? ?��?�� 
        // ?��?�� URL?�� ?��록한 ?��?���? ?��?��?��?��.
        // ?��?�� ?�� 매서?���? ?��출된?��.
        // ?��블릿?�� ?��?��?���? ?��,?��?�� ?��?��?��?�� ?�� ?��?��?�� ?��?���? ?�� 매서?��?��?�� ?��?��?��?��.
        
        // ?��블릿?�� ?��?��?���? ?��?�� ?��?��?�� : 
        //   ?��?��?��?��?���? ?��?��?��?��?�� 보낸 ?��?��?���? Servlet?�� ?��?��?��?�� ?��?��록암?�� ?��?��?���?
        //   ?��?��?��?��?���? ?��축해?�� 보낸 ?��?��?���? Servlet?�� ?��?��?��?�� ?��?���? ?���? ?��?��
        //   ?��?��?��?��?��?�� ?���??�� ???�� 기록?�� ?��기기
        //   ?��?��?��?��?���? ?��별한 ?��?��?���? 보낸 ?��?��?���? Parsing?��?�� Servlet?�� ?��?��?���? ?���? �??��
        //   ?��?��?��?��?���? ?���??�� Servlet?�� ?��?��권한?�� ?��?���? 체크?��?��.
        //   ?��?��?��?��?���? 로그?��?�� ?��?��?��?���? 체크?��?��.
        System.out.println("Filter01 - doFilter() -- before");
        
        //   ?��?�� ?��?���? ?��?���? ?��?��?���? ?��?���? Servlet?�� ?��출하�? ?��?��.
        chain.doFilter(request, response);
        // ?�� 매서?���? ?��출하�? ?��?���? ?��?�� ?��?��?�� Servlet?�� ?��출하�? ?��?��?��.. ?��?��!!!!
        // 최종?��?���? Servlet?�� service() ?��출이 ?��?���? ?�� 매서?��?�� 리턴?��?��.
        
        // ?��블릿?�� ?��?��?�� ?��?�� ?��?��?�� :
        //   ?��?��?��?��?���? 보낼 ?��?��?���? ?��축하�?
        //   ?��?��?��?��?���? 보낼 ?��?��?���? ?��?��?��?���?
        //   ?��?��?��?��?���? 보낼 ?��?��?���? ?��?�� ?��?��?���? �??��?���?
        System.out.println("Filter01 - doFilter() -- after");
    }

    
    @Override
    public void destroy() {
        
        // Tomcat server�? 종료 ?��거나 Web Application?�� 멈출 ?��
        // ?��?��?�� 모든 ?��?��?�� ???�� ?�� 매서?���? ?��출한?��. From Servlet Container
        // init()?��?�� �?비된 ?��?��?�� ?��?�� ?��?��?��.
        System.out.println("Filter01 - destory()  ?���? ?��");
        Filter.super.destroy();
    }
}


// ?��?���? 구동?��?�� ?���?
//   - Tomcat Server�? ?��?��?��거나 Web Application?�� ?��?��?���? ?��?�� 객체�? ?��?��?��?��.
//      - ?��?��?�� ?���? -> init() ?���?
//   - ?��?��?��?��?�� ?���??�� ?��?�� ?���? ,
//      - ?��?��?�� ?��?��?��?�� URL?��?���?, doFilter() ?���?
//      - ?��?��?�� ?��?��?���? ?��?�� URL?��?���? ?�� ?��?��?�� ?��?��?���? ?��?��?��.
//   - Tomcat Server�? 종료?��거나 Web Application?�� 멈추�?
//      - destory() ?���?

// 주의!!!
// ?��?��?�� ?���? ?��?���? 명확?���? ?��?��?�� ?�� ?��?��.
// ?��?�� ?��?��?�� ?��존하?�� 방식?���? ?��로그?��밍을 ?��?��?�� ?��?��?��.
